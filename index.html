<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ultimate Croissant Empire</title>
</head>
<body>
  <h1>Ultimate Croissant Empire</h1>
  
  <h2>Resources</h2>
  <p id="croissantDisplay">Croissants: 0</p>
  <p id="butterDisplay">Butter: 0</p>
  <p id="cpsDisplay">Croissants Per Second: 0</p>
  <p id="bonusDisplay">Global Multiplier: 1.0x</p>
  
  <button id="croissantClicker">Bake Croissant</button>

  <h2>Upgrades</h2>
  <div id="upgradeList">
    <button id="upgrade1">Hire Baker Assistant (Cost: 15 croissants)</button>
    <button id="upgrade2">Buy Croissant Factory (Cost: 100 croissants)</button>
    <button id="upgrade3">Upgrade to Turbo Ovens (Cost: 500 croissants, 5 butter)</button>
    <button id="upgrade4">Hire Master Baker (Cost: 1,000 croissants)</button>
    <button id="upgrade5">Build Croissant Robots (Cost: 5,000 croissants, 20 butter)</button>
    <button id="upgrade6">Construct Mega Factory (Cost: 25,000 croissants, 100 butter)</button>
  </div>

  <h2>Quests</h2>
  <p id="questDisplay">No quests active.</p>

  <h2>Achievements</h2>
  <p id="achievementList">No achievements unlocked yet.</p>

  <h2>Random Events</h2>
  <p id="eventDisplay">Waiting for events...</p>

  <script>
    // Core variables
    let croissants = 0;
    let butter = 0;
    let croissantsPerClick = 1;
    let croissantsPerSecond = 0;
    let globalMultiplier = 1.0;

    // Upgrade trackers
    let upgrades = {
      upgrade1: { cost: 15, owned: 0, cps: 1 },
      upgrade2: { cost: 100, owned: 0, cps: 5 },
      upgrade3: { cost: 500, butterCost: 5, owned: 0, multiplier: 1.5 },
      upgrade4: { cost: 1000, owned: 0, cps: 20 },
      upgrade5: { cost: 5000, butterCost: 20, owned: 0, cps: 100 },
      upgrade6: { cost: 25000, butterCost: 100, owned: 0, cps: 500 },
    };

    // Quest system
    const quests = [
      { goal: 100, reward: 5, type: "croissants" },
      { goal: 10, reward: 1, type: "butter" },
    ];
    let activeQuest = null;

    // Achievements
    const achievements = [
      { name: "First Croissant", condition: () => croissants >= 1 },
      { name: "Butter Hoarder", condition: () => butter >= 10 },
      { name: "Mega Empire", condition: () => croissants >= 100000 },
    ];
    const unlockedAchievements = new Set();

    // DOM elements
    const croissantDisplay = document.getElementById("croissantDisplay");
    const butterDisplay = document.getElementById("butterDisplay");
    const cpsDisplay = document.getElementById("cpsDisplay");
    const bonusDisplay = document.getElementById("bonusDisplay");
    const eventDisplay = document.getElementById("eventDisplay");
    const questDisplay = document.getElementById("questDisplay");
    const achievementList = document.getElementById("achievementList");

    // Update displays
    function updateDisplay() {
      croissantDisplay.textContent = `Croissants: ${Math.floor(croissants)}`;
      butterDisplay.textContent = `Butter: ${Math.floor(butter)}`;
      cpsDisplay.textContent = `Croissants Per Second: ${Math.floor(croissantsPerSecond)}`;
      bonusDisplay.textContent = `Global Multiplier: ${globalMultiplier.toFixed(1)}x`;
    }

    // Update achievements
    function updateAchievements() {
      achievements.forEach((ach) => {
        if (ach.condition() && !unlockedAchievements.has(ach.name)) {
          unlockedAchievements.add(ach.name);
          const newAch = document.createElement("p");
          newAch.textContent = `Unlocked Achievement: ${ach.name}`;
          achievementList.appendChild(newAch);
          globalMultiplier += 0.1; // Bonus for unlocking
        }
      });
    }

    // Handle upgrades
    function buyUpgrade(key) {
      const upgrade = upgrades[key];
      if (croissants >= upgrade.cost && (!upgrade.butterCost || butter >= upgrade.butterCost)) {
        croissants -= upgrade.cost;
        if (upgrade.butterCost) butter -= upgrade.butterCost;
        upgrade.owned++;
        croissantsPerSecond += (upgrade.cps || 0) * globalMultiplier;
        if (upgrade.multiplier) globalMultiplier *= upgrade.multiplier;
        upgrade.cost = Math.floor(upgrade.cost * 1.5);
        updateDisplay();
      } else {
        alert("Not enough resources!");
      }
    }

    // Handle clicking
    document.getElementById("croissantClicker").addEventListener("click", () => {
      croissants += croissantsPerClick * globalMultiplier;
      updateDisplay();
      updateAchievements();
    });

    // Upgrade buttons
    Object.keys(upgrades).forEach((key) => {
      document.getElementById(key).addEventListener("click", () => buyUpgrade(key));
    });

    // Random events
    setInterval(() => {
      const chance = Math.random();
      if (chance < 0.2) {
        const bonus = Math.floor(Math.random() * 50) + 10;
        croissants += bonus;
        eventDisplay.textContent = `A customer gave you ${bonus} croissants!`;
      } else if (chance > 0.8) {
        const loss = Math.floor(Math.random() * 30) + 5;
        croissants = Math.max(0, croissants - loss);
        eventDisplay.textContent = `Rats ate ${loss} croissants!`;
      }
      updateDisplay();
    }, 30000);

    // Passive income loop
    setInterval(() => {
      croissants += croissantsPerSecond * globalMultiplier / 10;
      updateDisplay();
      updateAchievements();
    }, 100);

    // Initialize display
    updateDisplay();
  </script>
</body>
</html>
